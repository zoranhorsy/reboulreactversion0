"use strict";(()=>{var u=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var C=u(()=>{function i(t){return t.reduce((e,r)=>e+r.price*r.quantity,0)}function o(t){return t.reduce((e,r)=>e+r.quantity,0)}function c(t,e){switch(e){case"express":return t>100?0:15;case"pickup":return 0;case"standard":default:return t>50?0:8}}function p(t,e){if(!e)return 0;switch(e.toUpperCase()){case"WELCOME10":return t*.1;case"SUMMER20":return t*.2;case"REBOUL25":return t*.25;case"FREE50":return t>=50?8:0;default:return 0}}function m(t,e){let r=i(t),a=o(t),n=c(r,e.shippingMethod),s=p(r,e.discountCode);return{subtotal:r,shipping:n,discount:s,total:r+n-s,itemCount:a}}self.onmessage=t=>{let e=t.data;try{if(e.type==="CALCULATE_TOTAL"){let r=m(e.items,e.options);self.postMessage({type:"CALCULATE_SUCCESS",result:r})}else self.postMessage({type:"ERROR",error:"Type de message non support\xE9"})}catch(r){self.postMessage({type:"ERROR",error:r instanceof Error?r.message:"Erreur inconnue"})}}});C();})();
//# sourceMappingURL=cartWorker.js.map
